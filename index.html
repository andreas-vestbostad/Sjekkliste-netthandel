<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sjekkliste netthandel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Generelle farger for lys og m칮rk modus */
        body[data-bs-theme="light"] {
            background-color: #f8f9fa;
            color: #212529;
        }
        body[data-bs-theme="dark"] {
            background-color: #121212;
            color: #ffffff;
        }

        /* Navbar */
        .navbar {
            background-color: #007bff !important;
        }
        .navbar .nav-link, .navbar .navbar-brand {
            color: white !important;
        }

        /* Kort og tabeller */
        .card, .table {
            background-color: var(--bs-body-bg);
            color: var(--bs-body-color);
        }
        [data-bs-theme="dark"] .card {
            background-color: #222 !important;
            color: #f8f9fa !important;
        }
        [data-bs-theme="dark"] .card-header {
            background-color: #333 !important;
            color: #f8f9fa !important;
        }

        /* Sjekkbokser og etiketter */
        [data-bs-theme="dark"] .form-check-input {
            background-color: #555 !important;
            border-color: #888 !important;
        }
        [data-bs-theme="dark"] .form-check-label {
            color: #f8f9fa !important;
        }
        [data-bs-theme="dark"] .form-check-input:checked {
            background-color: #007bff !important;
            border-color: #007bff !important;
        }

        /* Lenker */
        [data-bs-theme="dark"] a {
            color: #00bfff !important;
        }
        [data-bs-theme="dark"] a:hover {
            color: #66ccff !important;
        }

        /* Input-felt */
        [data-bs-theme="dark"] .input-group, 
        [data-bs-theme="dark"] .form-control {
            background-color: #333;
            color: #fff;
            border: 1px solid #555;
        }
        [data-bs-theme="dark"] .form-control:focus {
            background-color: #555;
            border-color: #007bff;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        /* Knappestiler */
        [data-bs-theme="dark"] .btn-outline-dark {
            color: #fff;
            border-color: #007bff;
            background-color: #222;
        }
        [data-bs-theme="dark"] .btn-outline-dark:hover {
            background-color: #007bff;
            border-color: #007bff;
        }

        /* Tabell-header */
        [data-bs-theme="dark"] .table thead {
            background-color: #333;
            color: #fff;
        }
        [data-bs-theme="light"] .table thead {
            background-color: #f8f9fa;
            color: #212529;
        }
        [data-bs-theme="dark"] .table tbody tr {
            background-color: #222;
        }

        /* Alfabet-knapper */
        .alphabet-buttons button {
            padding: 5px;
            margin: 1px;
            width: 30px;
            height: 30px;
            text-align: center;
            display: inline-block;
            font-size: 12px;
        }
    </style>
</head>
<body data-bs-theme="light">

    <div class="container mt-3 d-flex justify-content-end gap-3">
        <!-- SAS-modus toggle -->
        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="sasModeSwitch" checked onchange="togglesasMode()">
            <label class="form-check-label" for="sasModeSwitch">SAS EB-modus</label>
         </div>
        <!-- Student-modus toggle -->
        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="studentModeSwitch" checked onchange="toggleStudentMode()">
            <label class="form-check-label" for="studentModeSwitch">Student-modus</label>
         </div>
        <!-- M칮rk-modus toggle -->
        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="darkModeSwitch" onchange="toggleDarkMode()">
            <label class="form-check-label" for="darkModeSwitch">M칮rk-modus</label>
        </div>
    </div>
    

    <!-- Container for hovedinnholdet -->
    <div class="container mt-4">
        <!-- Sjekkliste -->
        <div class="card">
            <div class="card-header">
                <h4>Sjekkliste f칮r du kj칮per p친 nett</h4>
            </div>
            <div class="card-body">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="checkPrisjakt">
                    <label class="form-check-label" for="checkPrisjakt">
                        Sammenligne priser p친 <a href="https://www.prisjakt.no" target="_blank">Prisjakt</a> eller 
                        <a href="https://www.klarna.com/no/" target="_blank">Klarna</a>
                    </label>
                </div>

                <!-- Student-delen f친r en egen ID -->
                <div id="studentSjekkliste">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="checkStudentrabatt">
                        <label class="form-check-label" for="checkStudentrabatt">
                            Bruk tabellen og se om du kan f친 studenttilbud p친  
                            <a href="https://studentkortet.no/rabatter" target="_blank">Studentkortet</a> eller  
                            <a href="https://studenttorget.no/studentrabatter/" target="_blank">Studenttorget</a>, se ogs친 
                            <a href="https://www.utdanningibergen.no/studentrabatter/" target="_blank">Utdanning i Bergen</a>,  
                            eller <a href="https://www.studentpakken.no/studentrabatter" target="_blank">Studentpakken</a>
                        </label>
                    </div>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="checkBonus">
                    <label class="form-check-label" for="checkBonus">
                        Bruk tabellen og se om du kan f친 bonus gjennom 
                        <a href="https://trumfnetthandel.no/" target="_blank">Trumf</a> <span id="sasSjekkliste">eller  
                        <a href="https://onlineshopping.flysas.com/nb-NO/" target="_blank">SAS</a></span>
                    </label>
                </div>
            </div>
        </div>

        <!-- S칮ketabell -->
        <div class="card mt-3">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h4>S칮k i tabell</h4>
                <!-- Filtermeny -->
                <button class="btn btn-outline-dark" data-bs-toggle="modal" data-bs-target="#filterModal">
                    丘뙖잺 Filtrer
                </button>
            </div>
            <div class="card-body">
                <div class="input-group mb-3">
                    <input type="text" id="searchInput" onkeyup="searchTable()" class="form-control" placeholder="S칮k etter butikk eller verdi..">
                    <button onclick="downloadCSV()" class="btn btn-outline-dark">游닌 Last ned CSV</button>
                </div>                

                <table class="table table-striped table-bordered" id="csvTable">
                    <thead>
                        <tr>
                            <th>Butikk</th>
                            <th>Trumf Netthandel</th>
                            <th>SAS Netthandel</th>
                            <th>Studentkortet</th>
                            <th>Studenttorget</th>
                            <th>Zupergift</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data vil lastes inn her -->
                    </tbody>
                </table>
            <!-- Alfabet pagination -->
            <div class="alphabet-buttons" id="alphabet-buttons"></div>

            </div>
        </div>        
    </div>

    <!-- Modal for filtrering -->
    <div class="modal fade" id="filterModal" tabindex="-1" aria-labelledby="filterModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="filterModalLabel">Filtrer tilbud</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Lukk"></button>
                </div>
                <div class="modal-body">
                    <p>Velg hvilke kategori man vil vise for</p>
                    <div class="form-check">
                        <input class="form-check-input filter-checkbox" type="checkbox" id="filterTrumf" checked>
                        <label class="form-check-label" for="filterTrumf">Trumf Netthandel</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input filter-checkbox" type="checkbox" id="filterSAS" checked>
                        <label class="form-check-label" for="filterSAS">SAS Netthandel</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input filter-checkbox" type="checkbox" id="filterStudentkortet" checked>
                        <label class="form-check-label" for="filterStudentkortet">Studentkortet</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input filter-checkbox" type="checkbox" id="filterStudenttorget" checked>
                        <label class="form-check-label" for="filterStudenttorget">Studenttorget</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input filter-checkbox" type="checkbox" id="filterZupergift" checked>
                        <label class="form-check-label" for="filterZupergift">Zupergift</label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" onclick="searchTable()" data-bs-dismiss="modal">Oppdater tabell</button>
                </div>
            </div>
        </div>
    </div>


    <!-- Bootstrap JS og PapaParse -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        let trumfData = [];
        let sasData = [];
        let studentkortetData = [];
        let studenttorgetData = [];
        let zupergiftData = [];
        let combinedData = [];
                
        // Variabler for siste oppdateringsdatoer
        let lastUpdatedTrumf = null;
        let lastUpdatedSas = null;
        let lastUpdatedStudentkortet = null;
        let lastUpdatedStudenttorget = null;
        let lastUpdatedZupergift = null;

        const csvSources = [
            { url: "./trumf.csv", name: "Trumf Netthandel", label: "filterTrumf" },
            { url: "./sas.csv", name: "SAS Netthandel", label: "filterSAS" },
            { url: "./studentkortet.csv", name: "Studentkortet", label: "filterStudentkortet" },
            { url: "./studenttorget.csv", name: "Studenttorget", label: "filterStudenttorget" },
            { url: "./zupergift.csv", name: "Zupergift", label: "filterZupergift" }
        ];

        function getLastModified() {
            csvSources.forEach(source => {
                fetch(source.url, { method: 'HEAD' })
                    .then(response => {
                        let lastModified = response.headers.get("Last-Modified");
                        if (lastModified) {
                            let date = new Date(lastModified);
                            let formattedDate = `${date.getDate()}. ${date.toLocaleString('no-NO', { month: 'short' })}`;
                            document.querySelector(`label[for="${source.label}"]`).textContent = `${source.name} (sist oppdatert: ${formattedDate})`;
                        }
                    })
                    .catch(err => console.error(`Feil ved henting av ${source.name}:`, err));
            });
        }
        getLastModified();


        // Funksjon for 친 laste inn CSV-data
        function loadCSV() {
            csvSources.forEach(source => {
                Papa.parse(source.url, {
                    download: true,
                    header: true,
                    skipEmptyLines: true,
                    complete: function(results) {
                        switch (source.name) {
                            case "Trumf Netthandel": trumfData = results.data; break;
                            case "SAS Netthandel": sasData = results.data; break;
                            case "Studentkortet": studentkortetData = results.data; break;
                            case "Studenttorget": studenttorgetData = results.data; break;
                            case "Zupergift": zupergiftData = results.data; break;
                        }
                        checkAndMergeData();
                    },
                    error: function(err) {
                        console.error(`Feil ved lasting av ${source.name} CSV:`, err);
                    }
                });
            });
        }

        function checkAndMergeData() {
            if ([trumfData, sasData, studentkortetData, studenttorgetData, zupergiftData].every(data => data !== null)) {
                mergeData();
                renderTable(combinedData);
            }
        }
        function mergeData() {
            if (![trumfData, sasData, studentkortetData, studenttorgetData, zupergiftData].every(arr => arr.length > 0)) return;

            combinedData = [];
            let storeMap = {};

            function normalize(name) {
                return name ? name.replace(/\s+/g, '').toLowerCase() : '';
            }

            function addToMap(sourceArray, sourceName) {
                sourceArray.forEach(row => {
                    if (!row['Butikk']) return;
                    let key = normalize(row['Butikk']);

                    if (!storeMap[key]) {
                        storeMap[key] = { 'Butikk': null, 'Trumf Netthandel': '', 'Sas Netthandel': '', 'Studentkortet': '', 'Studenttorget': '', 'Zupergift': '' };
                    }

                    storeMap[key][sourceName] = row['Bonus'] ?? '';

                    // Hent eksisterende verdier, slik at vi IKKE overstyrer tidligere lenker
                    let existingTrumf = storeMap[key]['Trumf Netthandel'] ? storeMap[key] : null;
                    let existingSas = storeMap[key]['Sas Netthandel'] ? storeMap[key] : null;
                    let existingStudentkortet = storeMap[key]['Studentkortet'] ? storeMap[key] : null;
                    let existingStudenttorget = storeMap[key]['Studenttorget'] ? storeMap[key] : null;
                    let existingZupergift = storeMap[key]['Zupergift'] ? storeMap[key] : null;

                    // Oppdater "Butikk"-kolonnen med ALLE lenker
                    storeMap[key]['Butikk'] = createLinkForStore(
                        sourceName === 'Trumf Netthandel' ? row : existingTrumf,
                        sourceName === 'Sas Netthandel' ? row : existingSas,
                        sourceName === 'Studentkortet' ? row : existingStudentkortet,
                        sourceName === 'Studenttorget' ? row : existingStudenttorget,
                        sourceName === 'Zupergift' ? row : existingZupergift
                    );
                });
            }

            addToMap(trumfData, 'Trumf Netthandel');
            addToMap(sasData, 'Sas Netthandel');
            addToMap(studentkortetData, 'Studentkortet');
            addToMap(studenttorgetData, 'Studenttorget');
            addToMap(zupergiftData, 'Zupergift');

            combinedData = Object.values(storeMap);
            combinedData.sort((a, b) => a['Butikk'].localeCompare(b['Butikk']));

            filterByLetter('A');
        }
            
        function createLinkForStore(trumfRow, sasRow, studentkortetRow, studenttorgetRow, zupergiftRow) {            
            let storeName = trumfRow?.['Butikk'] || sasRow?.['Butikk'] || studentkortetRow?.['Butikk'] || studenttorgetRow?.['Butikk'] || zupergiftRow?.['Butikk'] || 'Ukjent butikk';

            let links = [];

            if (trumfRow && trumfRow['Link']) links.push(`<a href="${trumfRow['Link']}" target="_blank">[Trumf]</a>`);
            if (sasRow && sasRow['Link']) links.push(`<a href="${sasRow['Link']}" target="_blank">[SAS]</a>`);
            if (studentkortetRow && studentkortetRow['Link']) links.push(`<a href="${studentkortetRow['Link']}" target="_blank">[Studentkortet]</a>`);
            if (studenttorgetRow && studenttorgetRow['Link']) links.push(`<a href="${studenttorgetRow['Link']}" target="_blank">[Studenttorget]</a>`);
            if (zupergiftRow && zupergiftRow['Link']) links.push(`<a href="${zupergiftRow['Link']}" target="_blank">[Zupergift]</a>`);

            return `${storeName} ${links.join(" ")}`;
        }


        function filterByLetter(letter) {
            let table = document.getElementById("csvTable").getElementsByTagName("tbody")[0];
            let input = document.getElementById("searchInput").value.toLowerCase();
            
            table.innerHTML = ""; // T칮m tabellen

            combinedData.forEach(row => {
                let butikkNavn = row['Butikk'].toLowerCase();
                
                if ((butikkNavn.startsWith(letter.toLowerCase()) || letter === "") &&
                    (butikkNavn.includes(input) || input === "")) {
                    let newRow = table.insertRow();
                    newRow.innerHTML = `<td>${row['Butikk']}</td>
                                        <td>${row['Trumf Netthandel']}</td>
                                        <td>${row['Sas Netthandel']}</td>
                                        <td>${row['Studentkortet']}</td>
                                        <td>${row['Studenttorget']}</td>`;
                }
            });
        }

        function renderTable(data) {
            let table = document.getElementById("csvTable").getElementsByTagName("tbody")[0];
            table.innerHTML = '';

            data.forEach(function(row) {
                let newRow = table.insertRow();
                newRow.insertCell(0).innerHTML = row['Butikk'];
                newRow.insertCell(1).textContent = row['Trumf Netthandel'];
                newRow.insertCell(2).textContent = row['Sas Netthandel'];
                newRow.insertCell(3).textContent = row['Studentkortet'];
                newRow.insertCell(4).textContent = row['Studenttorget'];
                newRow.insertCell(5).textContent = row['Zupergift'];
            });
        }

        // Funksjon for 친 s칮ke i tabellen
        function searchTable() {
            let input = document.getElementById("searchInput").value.toLowerCase();
            let filterTrumf = document.getElementById("filterTrumf").checked;
            let filterSAS = document.getElementById("filterSAS").checked;
            let filterStudentkortet = document.getElementById("filterStudentkortet").checked;
            let filterStudenttorget = document.getElementById("filterStudenttorget").checked;
            let filterZupergift = document.getElementById("filterZupergift").checked;


            let table = document.getElementById("csvTable");
            let tbody = table.getElementsByTagName("tbody")[0];
            let thead = table.getElementsByTagName("thead")[0];
            tbody.innerHTML = ""; // T칮m tabellen f칮r s칮king

            // Oppdater synlighet av kolonneoverskrifter
            let headers = thead.getElementsByTagName("th");
            headers[1].style.display = filterTrumf ? "" : "none";
            headers[2].style.display = filterSAS ? "" : "none";
            headers[3].style.display = filterStudentkortet ? "" : "none";
            headers[4].style.display = filterStudenttorget ? "" : "none";
            headers[5].style.display = filterZupergift ? "" : "none";

            combinedData.forEach(row => {
                let values = Object.values(row).join(" ").toLowerCase();
                let hasVisibleValue = 
                (filterTrumf && (row['Trumf Netthandel'] ?? '') !== '') ||
                (filterSAS && (row['Sas Netthandel'] ?? '') !== '') ||
                (filterStudentkortet && (row['Studentkortet'] ?? '') !== '') ||
                (filterStudenttorget && (row['Studenttorget'] ?? '') !== '') ||
                (filterZupergift && (row['Zupergift'] ?? '') !== '');


                let shouldDisplay = values.includes(input) && hasVisibleValue;

                if (shouldDisplay) {
                    let newRow = tbody.insertRow();
                    let cell1 = newRow.insertCell(0);
                    let cell2 = newRow.insertCell(1);
                    let cell3 = newRow.insertCell(2);
                    let cell4 = newRow.insertCell(3);
                    let cell5 = newRow.insertCell(4);
                    let cell6 = newRow.insertCell(5);

                    cell1.innerHTML = row['Butikk'];
                    cell2.innerHTML = row['Trumf Netthandel'];
                    cell3.innerHTML = row['Sas Netthandel'];
                    cell4.innerHTML = row['Studentkortet'];
                    cell5.innerHTML = row['Studenttorget'];
                    cell6.innerHTML = row['Zupergift'];

                    // Skjul kolonner basert p친 valgte filtre
                    cell2.style.display = filterTrumf ? "" : "none";
                    cell3.style.display = filterSAS ? "" : "none";
                    cell4.style.display = filterStudentkortet ? "" : "none";
                    cell5.style.display = filterStudenttorget ? "" : "none";
                    cell6.style.display = filterZupergift ? "" : "none";
                }
            });
        }

        // Funksjon for 친 laste ned tabellen som CSV-fil
        function downloadCSV() {
            var table = document.getElementById("csvTable");
            var rows = Array.from(table.querySelectorAll("tr"));
            var csvContent = rows.map(function(row) {
                return Array.from(row.querySelectorAll("th, td")).map(function(cell) {
                    return cell.textContent;
                }).join(",");
            }).join("\n");

            var blob = new Blob([csvContent], { type: 'text/csv' });
            var link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'table_data.csv';
            link.click();
        }

        function filterTable() {
            let filterTrumf = document.getElementById("filterTrumf").checked;
            let filterSAS = document.getElementById("filterSAS").checked;
            let filterStudentkortet = document.getElementById("filterStudentkortet").checked;
            let filterStudenttorget = document.getElementById("filterStudenttorget").checked;
            let filterZupergift = document.getElementById("filterZupergift").checked;

            let table = document.getElementById("csvTable");
            let tbody = table.getElementsByTagName("tbody")[0];
            let thead = table.getElementsByTagName("thead")[0];
            tbody.innerHTML = ""; // T칮m tabellen f칮r oppdatering

            // Oppdater synlighet av kolonneoverskrifter
            let headers = thead.getElementsByTagName("th");
            headers[1].style.display = filterTrumf ? "" : "none";
            headers[2].style.display = filterSAS ? "" : "none";
            headers[3].style.display = filterStudentkortet ? "" : "none";
            headers[4].style.display = filterStudenttorget ? "" : "none";
            headers[5].style.display = filterZupergift ? "" : "none";

            // Skjul hele thead hvis ingen kolonner er valgt
            let anyColumnVisible = filterTrumf || filterSAS || filterStudentkortet || filterStudenttorget || filterZupergift;
            thead.style.display = anyColumnVisible ? "" : "none";


            combinedData.forEach(row => {
                let shouldDisplay = (
                    (filterTrumf && row['Trumf Netthandel']) ||
                    (filterSAS && row['Sas Netthandel']) ||
                    (filterStudentkortet && row['Studentkortet']) ||
                    (filterStudenttorget && row['Studenttorget']) ||
                    (filterZupergift && row['Zupergift'])
                );

                if (shouldDisplay) {
                    let newRow = tbody.insertRow();
                    let cell1 = newRow.insertCell(0);
                    let cell2 = newRow.insertCell(1);
                    let cell3 = newRow.insertCell(2);
                    let cell4 = newRow.insertCell(3);
                    let cell5 = newRow.insertCell(4);
                    let cell6 = newRow.insertCell(5);

                    cell1.innerHTML = row['Butikk'];
                    cell2.innerHTML = row['Trumf Netthandel'];
                    cell3.innerHTML = row['Sas Netthandel'];
                    cell4.innerHTML = row['Studentkortet'];
                    cell5.innerHTML = row['Studenttorget'];
                    cell6.innerHTML = row['Zupergift'];

                    // Skjul kolonner basert p친 valgte filtre
                    cell2.style.display = filterTrumf ? "" : "none";
                    cell3.style.display = filterSAS ? "" : "none";
                    cell4.style.display = filterStudentkortet ? "" : "none";
                    cell5.style.display = filterStudenttorget ? "" : "none";
                    cell6.style.display = filterZupergift ? "" : "none";

                }
            });
        }

        function toggleStudentMode() {
            let isStudentMode = document.getElementById("studentModeSwitch").checked;

            // Oppdater sjekkbokser basert p친 Student-modus
            document.getElementById("filterStudentkortet").checked = isStudentMode;
            document.getElementById("filterStudenttorget").checked = isStudentMode;

            // Skjul eller vis studentdelen av sjekklisten
            document.getElementById("studentSjekkliste").style.display = isStudentMode ? "" : "none";
            

            // Oppdater tabellen umiddelbart
            searchTable();
        }

        function togglesasMode() {
            let issasMode = document.getElementById("sasModeSwitch").checked;

            // Oppdater sjekkbokser basert p친 sas-modus
            document.getElementById("filterSAS").checked = issasMode;
            document.getElementById("filterZupergift").checked = issasMode;

            // Skjul eller vis sasdelen av sjekklisten
            document.getElementById("sasSjekkliste").style.display = issasMode ? "" : "none";
            

            // Oppdater tabellen umiddelbart
            searchTable();
        }

        function toggleDarkMode() {
            const body = document.body;
            const darkModeSwitch = document.getElementById("darkModeSwitch");

            if (darkModeSwitch.checked) {
                body.setAttribute("data-bs-theme", "dark");
                localStorage.setItem("darkMode", "enabled");
            } else {
                body.setAttribute("data-bs-theme", "light");
                localStorage.setItem("darkMode", "disabled");
            }
        }

        // Husk brukerens valg
        window.onload = function () {
            if (localStorage.getItem("darkMode") === "enabled") {
                document.getElementById("darkModeSwitch").checked = true;
                document.body.setAttribute("data-bs-theme", "dark");
            }
        };

        // Funksjon som genererer knappene for bokstavene
        function generateAlphabetButtons() {
            const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ칁칒칀'.split('');
            document.getElementById('alphabet-buttons').innerHTML = alphabet.map(letter =>
                `<button class="btn btn-outline-primary" onclick="filterByLetter('${letter}')">${letter}</button>`
            ).join('');
        }

        // Kall funksjonen for 친 generere knappene
        generateAlphabetButtons();

        // Last inn CSV-dataene n친r siden 친pnes
        loadCSV();
    </script>
</body>
</html>